# Tradeoff: UI Layer

## Decision: Minimal CopilotKit + Next.js app

Previously: AG-UI Dojo demo viewer (full monorepo submodule). Changed because we only use the Pydantic AI integration out of 25+ available, and dojo is a showcase app not designed for production embedding.

## Alternatives Considered

| Option | Type | Complexity | Customizable | AG-UI Support | Dependencies |
|--------|------|:----------:|:------------:|:-------------:|:------------:|
| **CopilotKit + Next.js** | Standalone app | Minimal (8 files) | Full control | Native (same team) | ~7 packages |
| AG-UI Dojo | Demo viewer | Heavy (submodule) | Limited (demo scaffold) | Reference impl | 100+ packages |
| Custom from scratch | Raw @ag-ui/client | Medium | Full control | Manual event handling | ~3 packages |
| Streamlit / Gradio | Python UI | Minimal | Limited | No native support | Python-only |

## Why CopilotKit

**Pros:**
- **Built by AG-UI team** — native protocol support
- **Pre-built chat components** — CopilotChat, hooks (useFrontendTool, useCopilotReadable)
- **8 files vs entire monorepo submodule** — drastically simpler to maintain
- **Full control over styling and layout** — standard Next.js app
- **Works with .NET Aspire orchestration** — AddNpmApp integration
- **Environment-based agent URL injection** — clean configuration boundary

**Cons:**
- CopilotKit is at prerelease versions (1.51.4-next.3)
- Adds React/Next.js to a primarily Python/.NET stack

## Why Not AG-UI Dojo

- Ships 25+ integrations we don't use (LangGraph, CrewAI, Mastra, Spring AI, etc.)
- Complex routing/menu system for demo purposes
- Requires git submodule management
- Not designed to be embedded in other projects

## Why Not Custom from Scratch

- Would need to implement chat UI, message rendering, tool call display, streaming
- CopilotKit provides all this out-of-the-box
- Premature optimization — can eject later if needed
